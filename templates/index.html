<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Bio Chat - Biodin√¢mica</title>
  <meta name="theme-color" content="#4C5B28">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%234C5B28'/><text x='50%' y='60%' font-family='Arial' font-size='60' text-anchor='middle' fill='white'>B</text></svg>">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Efeito de part√≠culas hologr√°ficas -->
  <div class="holographic-container" id="holographicContainer"></div>
  
  <!-- Overlay de loading futurista -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="holographic-spinner"></div>
  </div>

  <div class="chat-container">
    <!-- Header do Chat com Efeito Neon -->
    <div class="chat-header">
      <div class="header-content">
        <div class="bot-avatar">
          <div class="holographic-avatar">
            <i class="fas fa-robot"></i>
          </div>
        </div>
        <div class="header-info">
  <img src="{{ url_for('static', filename='logobiodinamica.png') }}" alt="Logo Biodin√¢mica" class="empresa-logo">
  <span class="status-indicator">
    <div class="neon-dot"></div>
    <span id="statusText">ONLINE</span>
  </span>
</div>

        <div class="header-actions">
          <button class="holographic-btn" id="clearChatBtn" title="Limpar conversa">
            <i class="fas fa-trash"></i>
          </button>
          <button class="holographic-btn" id="downloadBtn" title="Baixar hist√≥rico">
            <i class="fas fa-download"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Container das mensagens com Efeito de Vidro -->
    <div class="chat-messages" id="chatMessages">
      <div class="message bot-message welcome-message">
        <div class="message-content">
          <div class="message-avatar">
            <div class="holographic-avatar-sm">
              <i class="fas fa-robot"></i>
            </div>
          </div>
          <div class="message-text">
            <p>üëã <span class="neon-text">OL√Å!</span> EU SOU O <strong class="neon-text">BIO CHAT</strong>, SEU ASSISTENTE <span class="glitch">INTELIGENTE</span> DA BIODIN√ÇMICA!</p>
            <p>COMO POSSO AJUDAR VOC√ä HOJE?</p>
          </div>
        </div>
        <div class="message-time">
          <span id="welcomeTime"></span>
        </div>
      </div>
    </div>

    <!-- Indicador de digita√ß√£o hologr√°fico -->
    <div class="typing-indicator" id="typingIndicator">
      <div class="typing-content">
        <div class="holographic-avatar-sm">
          <i class="fas fa-robot"></i>
        </div>
        <div class="holographic-dots">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>

    <!-- Container do input futurista -->
    <div class="chat-input-container">
      <div class="input-wrapper">
        <input type="text" 
               class="chat-input" 
               id="userInput" 
               placeholder="DIGITE SUA MENSAGEM..." 
               autocomplete="off"
               maxlength="500">
        <div class="input-actions">
          <button class="holographic-btn send-btn" id="sendButton" title="Enviar">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </div>
      <div class="char-counter">
        <span id="charCount">0</span>/500
      </div>
    </div>
  </div>

  <!-- Modal futurista -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="holographic-modal">
      <div class="modal-header">
        <h3 class="neon-text">CONFIRMAR A√á√ÉO</h3>
        <button class="modal-close" id="modalClose">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <p id="modalMessage">TEM CERTEZA QUE DESEJA LIMPAR TODA A CONVERSA?</p>
      </div>
      <div class="modal-footer">
        <button class="holographic-btn btn-secondary" id="modalCancel">CANCELAR</button>
        <button class="holographic-btn btn-danger" id="modalConfirm">CONFIRMAR</button>
      </div>
    </div>
  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>

  <!-- Script: Efeitos Especiais -->
  <script>
    // Configurar hora de boas-vindas
    document.getElementById('welcomeTime').textContent = new Date().toLocaleTimeString('pt-BR', {
      hour: '2-digit',
      minute: '2-digit'
    });

    // Efeito hologr√°fico 3D
    function criarHolograma() {
      const formas = ['‚óÜ', '‚óà', '‚ßâ', '‚¨°', '‚åó'];
      const holograma = document.createElement('div');
      holograma.className = 'holographic-particle';
      holograma.textContent = formas[Math.floor(Math.random() * formas.length)];
      holograma.style.left = Math.random() * 100 + 'vw';
      holograma.style.animationDuration = (Math.random() * 5 + 5) + 's';
      holograma.style.fontSize = (Math.random() * 10 + 8) + 'px';
      holograma.style.color = `hsl(${Math.random() * 60 + 80}, 80%, 60%)`;
      document.getElementById('holographicContainer').appendChild(holograma);
      
      setTimeout(() => holograma.remove(), 15000);
    }

    // Criar hologramas
    setInterval(criarHolograma, 800);
    for (let i = 0; i < 10; i++) {
      setTimeout(criarHolograma, i * 300);
    }

    // Efeito glitch aleat√≥rio
    setInterval(() => {
      const glitch = document.querySelector('.glitch');
      if (glitch) {
        glitch.classList.add('glitch-effect');
        setTimeout(() => glitch.classList.remove('glitch-effect'), 600);
      }
    }, 10000);
  </script>
</body>
</html>